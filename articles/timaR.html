<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="timaR">
<title>General comments about the infrastructure • timaR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="General comments about the infrastructure">
<meta property="og:description" content="timaR">
<meta property="og:image" content="https://github.com/taxonomicallyinformedannotation/tima-r/blob/main/man/figures/logo.svg">
<meta property="og:image:alt" content="Taxonomically Informed Metabolite Annotation">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@adafede">
<meta name="twitter:site" content="@adafede">
<meta name="google-site-verification" content="Bt77rpBuC_R-0p62TWtA_ba5rvx-PuSEMv4LHg1UsOo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">timaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.9.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/timaR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/I-gathering.html">1 Gathering everything you need</a>
    <a class="dropdown-item" href="../articles/II-preparing.html">2 Preparing inputs</a>
    <a class="dropdown-item" href="../articles/III-processing.html">3 Performing Taxonomically Informed Metabolite Annotation</a>
    <a class="dropdown-item" href="../articles/IV-benchmarking.html">4 Benchmarking Performance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/taxonomicallyinformedannotation/tima-r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="timaR_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="timaR_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="timaR_files/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="timaR_files/vis-9.1.0/vis-network.min.js"></script><script src="timaR_files/visNetwork-binding-2.1.2/visNetwork.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>General comments about the infrastructure</h1>
                        <h4 data-toc-skip class="author">Adriano
Rutz</h4>
            
            <h4 data-toc-skip class="date">2024-06-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/taxonomicallyinformedannotation/tima-r/blob/HEAD/vignettes/timaR.Rmd" class="external-link"><code>vignettes/timaR.Rmd</code></a></small>
      <div class="d-none name"><code>timaR.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the philosophy behind the infrastructure of
<strong>TIMA</strong>.</p>
<div class="section level2">
<h2 id="philosophy">Philosophy<a class="anchor" aria-label="anchor" href="#philosophy"></a>
</h2>
<p>Our main goals were <strong>flexibility</strong> and
<strong>reproducibility</strong>.</p>
<div class="section level3">
<h3 id="flexibility">Flexibility<a class="anchor" aria-label="anchor" href="#flexibility"></a>
</h3>
<p>To ensure flexibility, we tried to split the process in as much tiny
parts as needed. So you can decide whether to skip an optional part, add
your own processing, etc. We tried to cover most use cases, but of
course they are not exhaustive. If you feel like something useful to
other users is missing, please fill an <a href="https://github.com/taxonomicallyinformedannotation/tima-r/issues" class="external-link">issue</a>.</p>
</div>
<div class="section level3">
<h3 id="reproducibility">Reproducibility<a class="anchor" aria-label="anchor" href="#reproducibility"></a>
</h3>
<p>After some time using TIMA, you will probably wonder: “<em>What was
the parameters I used to generate this file?</em>” … Or a collaborator
might ask you to share your data and parameters. Writing them down each
time might be time consuming and not really in line with modern
computational approaches. Therefore, we chose to implement all
parameters of all steps (almost…) as YAML files. They are human-readable
and can be used in batches. If you do not like YAML, parameters of each
steps can also be given as command line arguments. They will then be
saved as YAML you will be able to share.</p>
<p>To ensure optimal reproducibility and avoiding re-computing endlessly
steps that did not change, we decided to build a <a href="https://books.ropensci.org/targets/" class="external-link">{targets}</a> pipeline. Each
step of the whole pipeline will be described next.</p>
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:100%;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"nodes":{"name":["ann_fil","ann_ms1_pre","ann_ms1_pre_ann","ann_ms1_pre_edg","ann_pre","ann_sir_pre","ann_sir_pre_can","ann_sir_pre_for","ann_sir_pre_str","ann_spe_neg","ann_spe_pos","ann_spe_pre","edg_spe","fea_com","fea_com_pre","fea_edg_pre","fea_edg_spe","fea_pre","int_com","lib_add","lib_mer_key","lib_mer_org_tax_ott","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","lib_rt","lib_rt_rts","lib_rt_sop","lib_sop_clo_pre","lib_sop_ecm","lib_sop_ecm_pre","lib_sop_hmd","lib_sop_hmd_pre","lib_sop_lot","lib_sop_lot_pre","lib_sop_mer","tax_pre"],"type":["stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem","stem"],"description":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"status":["outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","uptodate","outdated","outdated","outdated","uptodate","uptodate","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","outdated","uptodate","uptodate","uptodate","uptodate","uptodate","outdated","outdated","outdated","outdated"],"seconds":[5.578,16.87,0,0,25.488,6.631,0,0,0,2.255,63.615,4.368,0,0.832,0.134,0.76,2.566,0.756,0,4.361,0,0,0,0.001,0,0,0,100.015,0,0,1.063,1.975,1.45,10.575,32.739,2.581,12.347,36.217,2.182],"bytes":[16211594,16013451,15695412,318039,59284878,51726,941,571,50214,177,48919,74814,630,44977,44972,335937,630,127961,44977,35605176,20009680,939000,9180250,16588509,8707163,2492003,2389496,7053,3940,3113,268,1334921,177489,96479839,6989505,92979778,46526322,60306101,27296],"branches":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"label":["ann_fil","ann_ms1_pre","ann_ms1_pre_ann","ann_ms1_pre_edg","ann_pre","ann_sir_pre","ann_sir_pre_can","ann_sir_pre_for","ann_sir_pre_str","ann_spe_neg","ann_spe_pos","ann_spe_pre","edg_spe","fea_com","fea_com_pre","fea_edg_pre","fea_edg_spe","fea_pre","int_com","lib_add","lib_mer_key","lib_mer_org_tax_ott","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","lib_rt","lib_rt_rts","lib_rt_sop","lib_sop_clo_pre","lib_sop_ecm","lib_sop_ecm_pre","lib_sop_hmd","lib_sop_hmd_pre","lib_sop_lot","lib_sop_lot_pre","lib_sop_mer","tax_pre"],"color":["#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#354823","#78B7C5","#78B7C5","#78B7C5","#354823","#354823","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#78B7C5","#354823","#354823","#354823","#354823","#354823","#78B7C5","#78B7C5","#78B7C5","#78B7C5"],"id":["ann_fil","ann_ms1_pre","ann_ms1_pre_ann","ann_ms1_pre_edg","ann_pre","ann_sir_pre","ann_sir_pre_can","ann_sir_pre_for","ann_sir_pre_str","ann_spe_neg","ann_spe_pos","ann_spe_pre","edg_spe","fea_com","fea_com_pre","fea_edg_pre","fea_edg_spe","fea_pre","int_com","lib_add","lib_mer_key","lib_mer_org_tax_ott","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","lib_rt","lib_rt_rts","lib_rt_sop","lib_sop_clo_pre","lib_sop_ecm","lib_sop_ecm_pre","lib_sop_hmd","lib_sop_hmd_pre","lib_sop_lot","lib_sop_lot_pre","lib_sop_mer","tax_pre"],"level":[8,6,7,7,12,5,6,6,6,1,1,5,2,9,11,8,1,1,10,5,4,4,4,4,4,4,4,1,2,2,1,1,2,1,2,1,2,3,5],"shape":["dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot","dot"]},"edges":{"from":["ann_sir_pre","ann_sir_pre","ann_ms1_pre","lib_mer_org_tax_ott","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","fea_com","ann_ms1_pre","lib_rt","lib_sop_mer","lib_sop_mer","fea_edg_spe","ann_sir_pre","int_com","lib_mer_str_met","lib_sop_mer","lib_rt","ann_ms1_pre_ann","ann_sir_pre_str","ann_spe_pre","fea_pre","lib_rt_rts","fea_edg_pre","lib_sop_mer","ann_spe_neg","ann_spe_pos","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","lib_sop_ecm","lib_sop_lot","ann_ms1_pre_edg","edg_spe","fea_pre","lib_add","lib_mer_key","lib_mer_str_met","lib_mer_str_nam","lib_mer_str_stereo","lib_mer_str_tax_cla","lib_mer_str_tax_npc","lib_sop_mer","ann_fil","ann_sir_pre_can","ann_sir_pre_for","fea_com_pre","fea_edg_pre","lib_mer_key","lib_mer_org_tax_ott","lib_mer_str_stereo","tax_pre","lib_sop_mer","lib_sop_mer","lib_sop_hmd","lib_rt_sop","lib_sop_clo_pre","lib_sop_ecm_pre","lib_sop_hmd_pre","lib_sop_lot_pre"],"to":["ann_sir_pre_can","ann_sir_pre_for","ann_ms1_pre_ann","tax_pre","ann_sir_pre","ann_sir_pre","ann_sir_pre","ann_sir_pre","ann_sir_pre","int_com","ann_ms1_pre_edg","lib_rt_sop","lib_mer_str_met","lib_mer_str_tax_npc","edg_spe","ann_sir_pre_str","fea_com_pre","lib_add","lib_mer_str_tax_cla","lib_rt_rts","ann_fil","ann_fil","ann_fil","ann_fil","ann_fil","fea_com","lib_mer_key","ann_spe_pre","ann_spe_pre","ann_spe_pre","ann_spe_pre","ann_spe_pre","ann_spe_pre","ann_spe_pre","lib_sop_ecm_pre","lib_sop_lot_pre","fea_edg_pre","fea_edg_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","ann_ms1_pre","lib_mer_str_stereo","ann_pre","ann_pre","ann_pre","ann_pre","ann_pre","ann_pre","ann_pre","ann_pre","ann_pre","lib_mer_str_nam","lib_mer_org_tax_ott","lib_sop_hmd_pre","lib_sop_mer","lib_sop_mer","lib_sop_mer","lib_sop_mer","lib_sop_mer"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":{"type":"cubicBezier","forceDirection":"horizontal"}},"physics":{"stabilization":false},"interaction":{"zoomSpeed":1},"layout":{"hierarchical":{"enabled":true,"levelSeparation":200,"direction":"LR"}}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":{"text":"","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":{"from":8,"to":1},"algorithm":"hierarchical","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":true,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":false,"position":"right","ncol":1,"stepX":100,"stepY":100,"zoom":true,"nodes":{"label":["Outdated","Up to date","Stem"],"color":["#78B7C5","#354823","#899DA4"],"shape":["dot","dot","dot"]},"nodesToDataframe":true},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<p>Each step is detailed in the related <a href="https://taxonomicallyinformedannotation.github.io/tima-r/articles">vignettes</a>.</p>
<p>All coming steps admit you already cloned the repository and went to
its root:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/taxonomicallyinformedannotation/tima-r.git</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="bu">cd</span> tima-r</span></code></pre></div>
<p>We now recommend you to read the <a href="https://taxonomicallyinformedannotation.github.io/tima-r/articles/I-gathering.html">first
vignette</a>.</p>
<div class="section level3">
<h3 id="tldr">tl;dr<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h3>
<p>If you do not feel like going through all the steps, then just do
🚀:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">Rscript</span> inst/scripts/run_app.R</span></code></pre></div>
<p>If you do not even need a GUI ☠️:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">Rscript</span> inst/scripts/tima_full.R</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adriano Rutz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
